{% extends "base.html" %}
{% comment %} Name of the file: add_diver.html {% endcomment %}
{% block title %}
Add Diver | ascubaDiving
{% endblock %}

{% block content %}
<div class="container">
    <form method="POST" action="{% url 'add_diver' %}">
        {% csrf_token %}
        <div class="mb-3">
            <label for="name" class="form-label">First and Last Name</label>
            <div class="input-group">
                <input type="text" class="form-control" id="name" name="name" required>
                <button type="button" class="btn btn-primary" id="search_name">Search</button>
            </div>
        </div>
        <div class="mb-3">
            <label for="certification_number" class="form-label">Certification Number</label>
            <input type="text" class="form-control" id="certification_number" name="certification_number" required>
        </div>
        <div class="mb-3">
            <label for="certification_level" class="form-label">Certification Level</label>
            <select class="form-select" id="certification_level" name="certification_level" required>
                <option value="OW">Open Water</option>
                <option value="AOW">Advanced Open Water</option>
                <option value="Rescue">Rescue</option>
                <option value="DM">Dive Master</option>
                <option value="Instructor">Instructor</option>
            </select>
        </div>
        <div class="mb-3">
            <label for="certification_agency" class="form-label">Certification Agency</label>
            <select class="form-select" id="certification_agency" name="certification_agency" required>
                <option value="PADI">PADI</option>
                <option value="SSI">SSI</option>
                <option value="NAUI">NAUI</option>
                <option value="SDI">SDI</option>
                <option value="IANTD">IANTD</option>
                <option value="CMAS">CMAS</option>
                <option value="BSAC">BSAC</option>
                <option value="RAID">RAID</option>
                <option value="TDI">TDI</option>
                <option value="GUE">GUE</option>
                <option value="ANDI">ANDI</option>
                <option value="NAUI">NAUI</option>
                <option value="YMCA">YMCA</option>
                <option value="PDIC">PDIC</option>
                <option value="NASDS">NASDS</option>
                <option value="SEI">SEI</option>
                <option value="SSAC">SSAC</option>
                <option value="SAA">SAA</option>
                <option value="CMAS">CMAS</option>
            </select>
        </div>
        <div class="mb-3">
            <label for="Date_of_birth" class="form-label">Birthdate</label>
            <input type="date" class="form-control" id="Date_of_birth" name="Date_of_birth" required>
        </div>
        <div class=" mb-3">
            <label for="Dan_insurance" class="form-label">DAN Insurance</label>
            <select class="form-select" id="Dan_insurance" name="Dan_insurance" required>
                <option value="Yes">Yes</option>
                <option value="No">No</option>
            </select>
        </div>
        <div class="mb-3">
            <label for="email" class="form-label">Email</label>
            <input type="email" class="form-control" id="email" name="email" required>
        </div>
        <div class="mb-3">
            <label for="phone" class="form-label">Phone</label>
            <input type="tel" class="form-control" id="phone" name="phone" required>
        </div>
        <div class="mb-3">
            <label for="address" class="form-label">Address</label>
            <input type="text" class="form-control" id="address" name="address" required>
        </div>
        <div class="mb-3">
            <label for="zipcode" class="form-label">Zipcode</label>
            <input type="text" class="form-control" id="zipcode" name="zipcode" required>
        </div>
        <div class="mb-3">
            <label for="shirt_size" class="form-label">Shirt Size</label>
            <select class="form-select" id="shirt_size" name="shirt_size" required>
                <option value="XS">XS</option>
                <option value="S">S</option>
                <option value="M">M</option>
                <option value="L">L</option>
                <option value="XL">XL</option>
                <option value="XXL">XXL</option>
                <option value="XXXL">XXXL</option>
            </select>
        </div>
        <button type="submit" class="btn btn-primary">Add Diver</button>
    </form>
</div>
<script>
    document.getElementById('search_name').addEventListener('click', function () {
        var name = document.getElementById('name').value;
        // Perform search or other desired actions with the name
        searchDatabase(name);
    });

    function searchDatabase(name) {
        // Perform search in the database
        // If the name is found, fill the form fields with the retrieved data
        // Otherwise, display an empty form
        // Example code for searching and filling the fields:
        var found = false;  // Replace this with actual search logic

        if (found) {
            // Fill the form fields with retrieved data
            document.getElementById('certification_number').value = "Retrieved Certification Number";
            document.getElementById('certification_level').value = "Retrieved Certification Level";
            document.getElementById('certification_agency').value = "Retrieved Certification Agency";
            document.getElementById('Date_of_birth').value = "Retrieved Birthdate";
            document.getElementById('Dan_insurance').value = "Retrieved DAN Insurance";
            document.getElementById('email').value = "Retrieved Email";
            document.getElementById('phone').value = "Retrieved Phone";
            document.getElementById('address').value = "Retrieved Address";
            document.getElementById('zipcode').value = "Retrieved Zipcode";
            document.getElementById('shirt_size').value = "Retrieved Shirt Size";
        } else {
            // Clear the form fields
            document.getElementById('certification_number').value = "";
            document.getElementById('certification_level').value = "";
            document.getElementById('certification_agency').value = "";
            document.getElementById('Date_of_birth').value = "";
            document.getElementById('Dan_insurance').value = "";
            document.getElementById('email').value = "";
            document.getElementById('phone').value = "";
            document.getElementById('address').value = "";
            document.getElementById('zipcode').value = "";
            document.getElementById('shirt_size').value = "";
        }
    }
</script>
{% endblock %}