{% extends 'base.html' %}

{% block title %}Customer Details{% endblock %}

{% block content %}
<div class="container">
    <h1>Customer Details</h1>

    <div class="row">
        <div class="col-md-6">
            <h2>Name: {{ customer.name }}</h2>
            <p>Email: {{ customer.email }}</p>
            <p>Phone: {{ customer.phone }}</p>
            <p>Address: {{ customer.address }}</p>
            <p>Birthdate: {{ customer.birthdate }}</p>
            <p>T-Shirt Size: {{ customer.get_t_shirt_size_display }}</p>
        </div>

        <div class="col-md-6">
            <h3>Organization: {{ customer.organization.name }}</h3>
            <p>Employee: {% if customer.employee %}Yes{% else %}No{% endif %}</p>
            <p>Emergency Contact Name: {{ customer.emergency_contact_name }}</p>
            <p>Emergency Contact Phone: {{ customer.emergency_contact_phone }}</p>
            <p>DAN Insurance: {% if customer.dan_insurance %}Yes{% else %}No{% endif %}</p>
            {% if customer.dan_insurance %}
            <p>DAN Insurance Number: {{ customer.dan_insurance_number }}</p>
            {% endif %}
        </div>
    </div>

    <div class="row">
        <div class="col-md-6">
            <h3>Medical Conditions:</h3>
            <p>{{ customer.medical_conditions }}</p>
        </div>

        <div class="col-md-6">
            <h3>Notes:</h3>
            <p>{{ customer.notes }}</p>
        </div>
    </div>

    <h3>Certifications:</h3>
    <ul>
        {% for certification in customer.certifications.all %}
        <li>{{ certification.certification_agency }} - {{ certification.issue_date }} to {{
            certification.expiration_date }}</li>
        {% endfor %}
    </ul>

    <h3>Shopify User:</h3>
    {% if customer.shopify_user %}
    <p>Name: {{ customer.shopify_user.name }}</p>
    <p>Email: {{ customer.shopify_user.email }}</p>
    {% else %}
    <p>No associated Shopify user.</p>
    {% endif %}

    <!-- Add more customer details here -->

    <div class="row mt-3">
        <div class="col-md-6">
            <a href="{% url 'customer_management:customer_update' customer.pk %}" class="btn btn-primary">Edit</a>
        </div>
        <div class="col-md-6 text-md-end">
            <a href="{% url 'customer_management:customer_delete' customer.pk %}" class="btn btn-danger">Delete</a>
        </div>
    </div>
</div>
{% endblock %}