{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="container">
  <h2>Edit Customer</h2>

  <form method="POST" enctype="multipart/form-data">
    {% csrf_token %}

    <div class="row">
      <div class="col-md-6">
        <div class="form-group">
          <label for="id_name">Name:</label>
          <input type="text" id="id_name" name="name" value="{{ customer.name }}" class="form-control" required>
        </div>

        <div class="form-group">
          <label for="id_email">Email:</label>
          <input type="email" id="id_email" name="email" value="{{ customer.email }}" class="form-control" required>
        </div>

        <div class="form-group">
          <label for="id_phone">Phone:</label>
          <input type="text" id="id_phone" name="phone" value="{{ customer.phone }}" class="form-control" required>
        </div>

        <div class="form-group">
          <label for="id_address">Address:</label>
          <input type="text" id="id_address" name="address" value="{{ customer.address }}" class="form-control">
        </div>

        <div class="form-group">
          <label for="id_birthdate">Birthdate:</label>
          <input type="date" id="id_birthdate" name="birthdate" value="{{ customer.birthdate }}" class="form-control">
        </div>
      </div>

      <div class="col-md-6">
        <div class="form-group">
          <label for="id_organization">Organization:</label>
          <select id="id_organization" name="organization" class="form-control">
            <option value="" {% if not customer.organization %}selected{% endif %}>-- None --</option>
            {% for organization in organizations %}
            <option value="{{ organization.pk }}" {% if customer.organization_id==organization.pk %}selected{% endif %}>
              {{ organization.name }}</option>
            {% endfor %}
          </select>
        </div>

        <div class="form-group">
          <div class="form-check">
            <input type="checkbox" id="id_employee" name="employee" {% if customer.employee %}checked{% endif %}
              class="form-check-input">
            <label for="id_employee" class="form-check-label">Employee</label>
          </div>
        </div>

        <div class="form-group">
          <label for="id_emergency_contact_name">Emergency Contact Name:</label>
          <input type="text" id="id_emergency_contact_name" name="emergency_contact_name"
            value="{{ customer.emergency_contact_name }}" class="form-control">
        </div>

        <div class="form-group">
          <label for="id_emergency_contact_phone">Emergency Contact Phone:</label>
          <input type="text" id="id_emergency_contact_phone" name="emergency_contact_phone"
            value="{{ customer.emergency_contact_phone }}" class="form-control">
        </div>

        <div class="form-group">
          <div class="form-check">
            <input type="checkbox" id="id_dan_insurance" name="dan_insurance" {% if customer.dan_insurance %}checked{%
              endif %} class="form-check-input">
            <label for="id_dan_insurance" class="form-check-label">DAN Insurance</label>
          </div>
        </div>

        <div class="form-group">
          <label for="id_dan_insurance_number">DAN Insurance Number:</label>
          <input type="text" id="id_dan_insurance_number" name="dan_insurance_number"
            value="{{ customer.dan_insurance_number }}" class="form-control">
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="id_medical_conditions">Medical Conditions:</label>
      <textarea id="id_medical_conditions" name="medical_conditions" class="form-control"
        rows="3">{{ customer.medical_conditions }}</textarea>
    </div>

    <div class="form-group">
      <label for="id_notes">Notes:</label>
      <textarea id="id_notes" name="notes" class="form-control" rows="3">{{ customer.notes }}</textarea>
    </div>

    <button type="submit" class="btn btn-primary">Update</button>
  </form>
</div>
{% endblock %}